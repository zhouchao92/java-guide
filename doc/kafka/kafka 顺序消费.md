kafka 只在 partition 的范围内保证消息消费的局部顺序性，不能在同一个 topic 的多个 partition 中保证总的消费顺序。


- 生产者：开启应答 ack = 1 或 -1，关闭重试，使用同步发送，在收到 ack 之后才发送下一条消息
- 消费：一个消费组消费一个partition，消费组只存在一个消费者