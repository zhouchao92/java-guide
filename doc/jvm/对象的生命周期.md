## 一个对象从加载到 jvm，再到被 GC 回收，都经历了什么过程？ 
1. 创建对象，jvm 在方法区中元数据区找到对应的类元信息
2. jvm 在堆内存中创建出半初始化的对象
3. 分配在新生代的 Eden 区，经过一次 Minor GC 后对象如果存活进入 S 区，在后续的每次 GC 中，如果对象存活会在 S0 和 S1 区中交替拷贝，并对 GC 年龄加1，直到达到垃圾回收器默认的分代年龄，如果仍然存活，进入老年代
4. 方法执行完后，对象在栈中的指针移除
5. 堆中的对象经过 Full GC 后，被标记为垃圾后由 GC 线程 清理


## 对象一定分配在堆上吗？  
当jvm开启逃逸分析参数（-XX:+DoEscapeAnalysis）时，会优化对象内存分配位置，如果对象没有超过当前作用域下的方法，会通过标量（-XX:+EliminateAllocations）替换优先分配在栈上。