# Flink Runtime核心机制剖析

[【【Apache Flink 进阶教程】1. Flink Runtime核心机制剖析】](https://www.bilibili.com/video/BV1y4411a7Bz)

[Flink Runtime 核心机制剖析.pdf](./ppt/2.1%20Flink%20Runtime%20核心机制剖析.pdf)

[官方文档：Flink 架构](https://nightlies.apache.org/flink/flink-docs-release-1.13/zh/docs/concepts/flink-architecture/)

![Flink 整体架构](/pic/flink/Flink%20整体架构.png)

![Flink Runtime 层总体架构](/pic/flink/Flink%20Runtime%20层总体架构.png)



# Flink Time 深度解析

[【【Apache Flink 进阶教程】2. Flink Time 深度解析】](https://www.bilibili.com/video/BV1G441177wT)

[Flink Time 深度解析.pdf](./ppt/2.2%20Flink%20Time%20深度解析.pdf)

![Flink 支持的时间语义](/pic/flink/Flink%20支持的时间语义.png)

![Flink Record Timestamp 分配和 Watermark 生成](/pic/flink/Flink%20Timestamp%20分配和%20Watermark%20生成.png)

Flink Watermark 传播：木桶效应/短板效应
![Flink Watermark 传播](/pic/flink/Flink%20Watermark%20传播.png)

Flink Table
![Flink Table 中指定时间列](/pic/flink/Flink%20Table%20中指定时间列.png)

时间和 Watermark 的本质
- 流处理中时间本质上就是一个普通的递增字段，不一定真的表示时间（例如：递增的主键ID）
- Watermark 只是**应对乱序**的办法之一，大多是启发式的，在延迟和完整性之间抉择



